<div class="text-left pl-6">


<div id="tags" class="sm:hidden">
<!--"全て"タグ-->
<%= link_to root_path do%>
 <span class="inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-gray-500/10 ring-inset">
 全て
 </span>
<% end %>



<% tagsArr = [] %>
<% @microposts.each do |micropost| %>
 <% tagsArr.push(micropost.tags) %>
<% end %>

<% uniqtags = tagsArr.to_set %>

<% uniqtags.each do |tag| %>

<% if tag.present? %>
 
 <%= link_to tag_path(tags: tag) do%><!--動的linkを生成するときに、routerで定義した:tagsを渡してあげる必要がある。paramsはcontrollerのみへの受け渡しなので使われない。https://railsdoc.com/page/link_to-->
 
 <% if params[:tags] == tag %> 
  <span class="tag inline-flex items-center rounded-md bg-gray-400 px-2 py-1 text-xs font-medium text-white ring-1 ring-gray-500/10 ring-inset">
  # <%= tag %>
  </span>
 <% else %>
  <span class="tag inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-gray-500/10 ring-inset">
  # <%= tag %>
  </span>
<% end %>

<% end %>

<% end %>

<% end %>
</div><!--tags-->

</div>


<% 
=begin
%>
<% tagsArr = [] %>

<% @microposts.each do |micropost| %>
<% tagsArr.push(micropost.tags) %>

<!--tagsArrに存在しなかったら、loop内を実行する。-->
<% if micropost.tags.present? && tagsArr.reject {micropost.tags}  %>
 
 <%= link_to tag_path(tags: micropost.tags) do%><!--動的linkを生成するときに、routerで定義した:tagsを渡してあげる必要がある。paramsはcontrollerのみへの受け渡しなので使われない。https://railsdoc.com/page/link_to-->
 
 <% if params[:tags] == micropost.tags %> 
  <span class="tag inline-flex items-center rounded-md bg-gray-400 px-2 py-1 text-xs font-medium text-white ring-1 ring-gray-500/10 ring-inset">
  # <%= micropost.tags %>
  </span>
 <% else %>
  <span class="tag inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-gray-500/10 ring-inset">
  # <%= micropost.tags %>
  </span>
<% end %>

<% end %>

<% end %>

<% end %>

</div>
<%
=end
%>